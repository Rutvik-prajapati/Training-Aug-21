<!-- Display Product information in Grid format with AddToCart option.
     once a user click on AddtoCart button should be stored in local storage. 
     Click on cart summary will display that data into console. -->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assignment</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-uWxY/CJNBR+1zjPWmfnSnVxwRheevXITnMqoEIeG1LJrdI0GlVs/9cVSyPYXdcSF" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kQtW33rZJAHjgefvhyyzcGF3C5TFyBQBA13V1RKPf4uH+bwyzQxZ6CmMZHmNBEfJ"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
        integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/js/bootstrap.min.js"
        integrity="sha384-PsUw7Xwds7x08Ew3exXhqzbhuEYmA2xnwc8BuD6SEr+UmEHlX8/MCltYEodzWA4u"
        crossorigin="anonymous"></script>
</head>

<body>
    <div class="container">
        <div class="row">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>ProductID </th>
                        <th>ProductName </th>
                        <th>Price </th>
                        <th>Quantity</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td id="id1">1 </td>
                        <td id="product1">Cheese </td>
                        <td id="price1">100 </td>
                        <td id="quantity1">1 </td>
                        <td> <button class="btn btn-success"
                                onclick="addData(id1.innerText,product1.innerText,price1.innerText,quantity1.innerText)">Add
                                to Cart</button> </td>
                    </tr>
                    <tr>
                        <td id="id2">2 </td>
                        <td id="product2">Pen </td>
                        <td id="price2">150 </td>
                        <td id="quantity2">2 </td>
                        <td> <button class="btn btn-success"
                                onclick="addData(id2.innerText,product2.innerText,price2.innerText,quantity2.innerText)">Add
                                to Cart</button> </td>
                    </tr>
                    <tr>
                        <td id="id3">3 </td>
                        <td id="product3">Butter</td>
                        <td id="price3"> 100 </td>
                        <td id="quantity3">1 </td>
                        <td> <button class="btn btn-success"
                                onclick="addData(id3.innerText,product3.innerText,price3.innerText,quantity3.innerText)">Add
                                to Cart</button> </td>
                    </tr>
                    <tr>
                        <td id="id4">4 </td>
                        <td id="product4">Pencil </td>
                        <td id="price4">10 </td>
                        <td id="quantity4">1 </td>
                        <td> <button class="btn btn-success"
                                onclick="addData(id4.innerText,product4.innerText,price4.innerText,quantity4.innerText)">Add
                                to Cart</button> </td>
                    </tr>
                </tbody>
            </table>
            <button onclick="getProductDetails()" class="col btn btn-success">Cart Summary</button>
        </div>
    </div>

    <script>
        var data = [];

        function getProductDetails() {
            console.clear();
            console.log(localStorage.getItem("ProductDetails"));
        }

        function addData(idVal, productName, price, quantity) {
            var product = {
                "ProductID": idVal,
                "ProductName": productName,
                "Price": price,
                "Quantity": quantity
            }
            var pid = data.find(x => x.ProductID === idVal);
            if (pid == '' || pid == undefined) {
                data.push(product);
            }
            localStorage.setItem("ProductDetails",JSON.stringify(data));
        }
    </script>

</body>

</html>